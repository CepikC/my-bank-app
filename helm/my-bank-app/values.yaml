# BankApp Umbrella Chart Values
# This file contains configuration for all subcharts

# Global settings
global:
  namespace: my-bank-app
  environment: development

# Infrastructure Dependencies
keycloak:
  enabled: true
  keycloak:
    hostname: keycloak.my-bank-app.local
    admin:
      username: admin
      password: admin
    database:
      vendor: ""  # Empty to disable database configuration for dev mode
  ingress:
    enabled: true
    hosts:
      - host: keycloak.my-bank-app.local
        paths:
          - path: /
            pathType: Prefix

postgresql-accounts:
  enabled: true
  postgresql:
    database: accounts-db
    username: postgres
    password: postgres

postgresql-exchange:
  enabled: true
  postgresql:
    database: exchange-db
    username: postgres
    password: postgres

postgresql-notifications:
  enabled: true
  postgresql:
    database: notifications-db
    username: postgres
    password: postgres

# Microservices
gateway-api:
  enabled: true
  image:
    repository: gateway-api
    tag: latest
  service:
    port: 8080
    targetPort: 8080
  ingress:
    enabled: true
    hosts:
      - host: my-bank-app.local
        paths:
          - path: /
            pathType: Prefix

front-ui:
  enabled: true
  image:
    repository: front-ui
    tag: latest
  service:
    port: 8079
    targetPort: 8079
  ingress:
    enabled: false

accounts:
  enabled: true
  image:
    repository: accounts
    tag: latest
  service:
    port: 8084
    targetPort: 8084
  ingress:
    enabled: false

cash:
  enabled: true
  image:
    repository: cash
    tag: latest
  service:
    port: 8086
    targetPort: 8086
  ingress:
    enabled: false

convert:
  enabled: true
  image:
    repository: convert
    tag: latest
  service:
    port: 8081
    targetPort: 8081
  ingress:
    enabled: false

exchange:
  enabled: true
  image:
    repository: exchange
    tag: latest
  service:
    port: 8085
    targetPort: 8085
  ingress:
    enabled: false

transfer:
  enabled: true
  image:
    repository: transfer
    tag: latest
  service:
    port: 8082
    targetPort: 8082
  ingress:
    enabled: false

blocker:
  enabled: true
  image:
    repository: blocker
    tag: latest
  service:
    port: 8083
    targetPort: 8083
  ingress:
    enabled: false

notifications:
  enabled: true
  image:
    repository: notifications
    tag: latest
  service:
    port: 8087
    targetPort: 8087
  ingress:
    enabled: false

# Environment-specific configurations
environments:
  development:
    replicas: 1
    resources:
      limits:
        cpu: 500m
        memory: 512Mi
      requests:
        cpu: 200m
        memory: 256Mi
  
  testing:
    replicas: 2
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
      requests:
        cpu: 500m
        memory: 512Mi
  
  production:
    replicas: 3
    resources:
      limits:
        cpu: 2000m
        memory: 2Gi
      requests:
        cpu: 1000m
        memory: 1Gi